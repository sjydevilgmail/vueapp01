{"version":3,"file":"js/592.f3cfabdc.js","mappings":"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","sources":["webpack://vuexprj01/./src/components/user/UserLogin.vue","webpack://vuexprj01/./src/components/user/UserLogin.vue?99ba"],"sourcesContent":["<template>\r\n  <div class=\"col-md-3 mt-4\">\r\n    <h1 class=\"text-center\">Login</h1>\r\n    <template v-if=\"!isLogin\">\r\n      <form name=\"loginF\" method=\"POST\" v-on:submit.prevent=\"login\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-10 offset-md-1\">\r\n            User ID:\r\n            <input\r\n              type=\"text\"\r\n              name=\"id\"\r\n              v-model=\"tmpUser.uid\"\r\n              ref=\"uid\"\r\n              placeholder=\"User ID\"\r\n              class=\"form-control\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-md-10 offset-md-1\">\r\n            PASSWORD:\r\n            <input\r\n              type=\"password\"\r\n              name=\"pwd\"\r\n              v-model=\"tmpUser.pwd\"\r\n              ref=\"upwd\"\r\n              placeholder=\"Password\"\r\n              class=\"form-control\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-10 offset-md-1 p-1\">\r\n          <button class=\"btn btn-block btn-primary mt-3\">Login</button>\r\n        </div>\r\n      </form>\r\n    </template>\r\n    <template v-else>\r\n      <div class=\"alert alert-primary m-4\">\r\n        <h4 class=\"text-primary\">{{ user.uid }}님 로그인 중...</h4>\r\n        <a href=\"#\" v-on:click=\"logout\">로그아웃</a>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  data() {\r\n    return {\r\n      tmpUser: {\r\n        //로그인을 시도하는 사람의 id,pwd 담을 데이터\r\n        id: '',\r\n        pwd: '',\r\n      },\r\n      user: {\r\n        uidx: '',\r\n        uname: '',\r\n        uid: '',\r\n      },\r\n      isLogin: false,\r\n    };\r\n  },\r\n  methods: {\r\n    logout() {\r\n      //alert('로그아웃 처리 중');\r\n      let url = 'http://localhost:5050/logout';\r\n      axios\r\n        .get(url)\r\n        .then((res) => {\r\n          if (res.status == 200) {\r\n            //서버쪽에서 로그아웃 처리를 마쳤다면 세션 스토리지를 비워주자.\r\n            sessionStorage.clear();\r\n            this.isLogin = false;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          alert('error: ' + err.message);\r\n          this.isLogin = true;\r\n        });\r\n    },\r\n    login() {\r\n      if (!this.tmpUser.uid) {\r\n        alert('id를 입력하세요.');\r\n        this.$refs.uid.focus();\r\n        return;\r\n      }\r\n      if (!this.tmpUser.pwd) {\r\n        alert('비밀번호를 입력하세요.');\r\n        this.$refs.upwd.focus();\r\n        return;\r\n      }\r\n      this.requestLogin(); //서버에 로그인 데이터 전송하는 메소드\r\n    },\r\n    requestLogin() {\r\n      let url = 'http://localhosr:5050/login';\r\n      //파라미터 데이터 만들기, id, pwq\r\n      let params = new URLSearchParams();\r\n      //id=a&pwd=b\r\n      params.append('uid', this.tmpUser.uid);\r\n      params.append('pwd', this.tmpUser.pwd);\r\n      //axios import\r\n      //axios.post()\r\n      axios\r\n        .post(url, params)\r\n        .then((res) => {\r\n          //alert(JSON.stringify(res))\r\n          this.user = res.data.user;\r\n          if (!this.user.idx) {\r\n            //회원번호 데이터가 없다면 로그인 인증 실패\r\n            alert('아이디와 비밀번호를 확인하세요.');\r\n            this.isLogin = false;\r\n            this.tmpUser.uid = '';\r\n            this.tmpUser.pwd = '';\r\n            this.$refs.uid.focus();\r\n          } else {\r\n            //로그인 인증을 받았다면...\r\n            alert('로그인 성공');\r\n            sessionStorage.setItem('uname', this.user.name);\r\n            sessionStorage.setItem('uidx', this.user.idx);\r\n            sessionStorage.setItem('uid', this.user.uid);\r\n\r\n            this.isLogin = true;\r\n          }\r\n          this.isLogin = true;\r\n        })\r\n        .catch((err) => {\r\n          alert('Error: ' + err.message);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import { render } from \"./UserLogin.vue?vue&type=template&id=14314c31\"\nimport script from \"./UserLogin.vue?vue&type=script&lang=js\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\workspace\\\\JavaScript\\\\JavaScriptSource\\\\st41.Vue\\\\vue40App\\\\vueapp01\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","$data","_toDisplayString","uid","href","onClick","$options","name","method","onSubmit","type","$event","ref","placeholder","pwd","_hoisted_9","data","tmpUser","id","user","uidx","uname","isLogin","methods","logout","url","axios","then","res","status","sessionStorage","clear","this","catch","err","alert","message","login","requestLogin","$refs","upwd","focus","params","URLSearchParams","append","idx","setItem","__exports__","render"],"sourceRoot":""}